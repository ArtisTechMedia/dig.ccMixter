!function(e,t){function n(n,o){function i(e){return _t.preferFlash&&ut&&!_t.ignoreFlash&&_t.flash[e]!==t&&_t.flash[e]}function a(e){return function(t){var n,o=this._s;return o&&o._a?n=e.call(this,t):(_t._wD(o&&o.id?o.id+": Ignoring "+t.type:Ot+"Ignoring "+t.type),n=null),n}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20140901",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,r,l,u,d,f,h,c,p,m,_,g,y,w,v,O,b,D,M,L,T,P,S,F,I,H,A,C,E,k,x,N,R,U,B,j,W,q,V,Q,K,$,J,G,X,z,Z,Y,et,tt,nt,ot,it,at,st,rt,lt,ut,dt,ft,ht,ct,pt,mt,_t=this,gt=null,yt=null,wt="soundManager",vt=wt+": ",Ot="HTML5::",bt=navigator.userAgent,Dt=e.location.href.toString(),Mt=document,Lt=[],Tt=!0,Pt=!1,St=!1,Ft=!1,It=!1,Ht=!1,At=0,Ct=["log","info","warn","error"],Et=8,kt=null,xt=null,Nt=!1,Rt=!1,Ut=0,Bt=null,jt=[],Wt=null,qt=Array.prototype.slice,Vt=!1,Qt=0,Kt=bt.match(/(ipad|iphone|ipod)/i),$t=bt.match(/android/i),Jt=bt.match(/msie/i),Gt=bt.match(/webkit/i),Xt=bt.match(/safari/i)&&!bt.match(/chrome/i),zt=bt.match(/opera/i),Zt=bt.match(/(mobile|pre\/|xoom)/i)||Kt||$t,Yt=!Dt.match(/usehtml5audio/i)&&!Dt.match(/sm2\-ignorebadua/i)&&Xt&&!bt.match(/silk/i)&&bt.match(/OS X 10_6_([3-7])/i),en=e.console!==t&&console.log!==t,tn=Mt.hasFocus!==t?Mt.hasFocus():null,nn=Xt&&(Mt.hasFocus===t||!Mt.hasFocus()),on=!nn,an=/(mp3|mp4|mpa|m4a|m4b)/i,sn=1e3,rn="about:blank",ln="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",un=Mt.location?Mt.location.protocol.match(/http/i):null,dn=un?"":"http://",fn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,hn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],cn=new RegExp("\\.("+hn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!un,q={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==t&&(zt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var n=!_t.url;return e!==t&&Ft&&Wt&&_t.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&$(B("setupLate")),_(e),e&&(n&&H&&e.url!==t&&_t.beginDelayedInit(),H||e.url===t||"complete"!==Mt.readyState||setTimeout(F,1)),_t},this.ok=function(){return Wt?Ft&&!It:_t.useHTML5Audio&&_t.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return r(t)||Mt[t]||e[t]},this.createSound=function(e,n){function o(){return r=Q(r),_t.sounds[r.id]=new s(r),_t.soundIDs.push(r.id),_t.sounds[r.id]}var i,a,r,l=null;if(i=wt+".createSound(): ",a=i+B(Ft?"notOK":"notReady"),!Ft||!_t.ok())return $(a),!1;if(n!==t&&(e={id:e,url:n}),r=m(e),r.url=Z(r.url),void 0===r.id&&(r.id=_t.setupOptions.idPrefix+Qt++),r.id.toString().charAt(0).match(/^[0-9]$/)&&_t._wD(i+B("badID",r.id),2),_t._wD(i+r.id+(r.url?" ("+r.url+")":""),1),J(r.id,!0))return _t._wD(i+r.id+" exists",1),_t.sounds[r.id];if(tt(r))l=o(),_t._wD(r.id+": Using HTML5"),l._setup_html5(r);else{if(_t.html5Only)return _t._wD(r.id+": No HTML5 support for this sound, and no Flash. Exiting."),o();if(_t.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return _t._wD(r.id+": data: URIs not supported via Flash. Exiting."),o();f>8&&(null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||(r.type?r.type.match(fn):!1)||r.url&&r.url.match(cn))),r.isMovieStar&&(_t._wD(i+"using MovieStar handling"),r.loops>1&&c("noNSLoop"))),r=K(r,i),l=o(),8===f?yt._createSound(r.id,r.loops||1,r.usePolicyFile):(yt._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(l.connected=!0,r.onconnect&&r.onconnect.apply(l))),r.serverURL||!r.autoLoad&&!r.autoPlay||l.load(r)}return!r.serverURL&&r.autoPlay&&l.play(),l},this.destroySound=function(e,t){if(!J(e))return!1;var n,o=_t.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<_t.soundIDs.length;n++)if(_t.soundIDs[n]===e){_t.soundIDs.splice(n,1);break}return t||o.destruct(!0),o=null,delete _t.sounds[e],!0},this.load=function(e,t){return J(e)?_t.sounds[e].load(t):!1},this.unload=function(e){return J(e)?_t.sounds[e].unload():!1},this.onPosition=function(e,t,n,o){return J(e)?_t.sounds[e].onposition(t,n,o):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return J(e)?_t.sounds[e].clearOnPosition(t,n):!1},this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!Ft||!_t.ok())return $(wt+".play(): "+B(Ft?"notOK":"notReady")),!1;if(J(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(_t._wD(wt+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=_t.createSound(t).play())}return null===n&&(n=_t.sounds[e].play(t)),n},this.start=this.play,this.setPosition=function(e,t){return J(e)?_t.sounds[e].setPosition(t):!1},this.stop=function(e){return J(e)?(_t._wD(wt+".stop("+e+")",1),_t.sounds[e].stop()):!1},this.stopAll=function(){var e;_t._wD(wt+".stopAll()",1);for(e in _t.sounds)_t.sounds.hasOwnProperty(e)&&_t.sounds[e].stop()},this.pause=function(e){return J(e)?_t.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=_t.soundIDs.length-1;e>=0;e--)_t.sounds[_t.soundIDs[e]].pause()},this.resume=function(e){return J(e)?_t.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=_t.soundIDs.length-1;e>=0;e--)_t.sounds[_t.soundIDs[e]].resume()},this.togglePause=function(e){return J(e)?_t.sounds[e].togglePause():!1},this.setPan=function(e,t){return J(e)?_t.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return J(e)?_t.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return J(e)?(_t._wD(wt+'.mute(): Muting "'+e+'"'),_t.sounds[e].mute()):!1;for(_t._wD(wt+".mute(): Muting all sounds"),t=_t.soundIDs.length-1;t>=0;t--)_t.sounds[_t.soundIDs[t]].mute();return _t.muted=!0,!0},this.muteAll=function(){_t.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return J(e)?(_t._wD(wt+'.unmute(): Unmuting "'+e+'"'),_t.sounds[e].unmute()):!1;for(_t._wD(wt+".unmute(): Unmuting all sounds"),t=_t.soundIDs.length-1;t>=0;t--)_t.sounds[_t.soundIDs[t]].unmute();return _t.muted=!1,!0},this.unmuteAll=function(){_t.unmute()},this.toggleMute=function(e){return J(e)?_t.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return yt&&8!==f&&(e=parseInt(yt._getMemoryUse(),10)),e},this.disable=function(n){var o;if(n===t&&(n=!1),It)return!1;for(It=!0,c("shutdown",1),o=_t.soundIDs.length-1;o>=0;o--)N(_t.sounds[_t.soundIDs[o]]);return p(n),rt.remove(e,"load",v),!0},this.canPlayMIME=function(e){var t;return _t.hasHTML5&&(t=nt({type:e})),!t&&Wt&&(t=e&&_t.ok()?!!((f>8?e.match(fn):null)||e.match(_t.mimePattern)):null),t},this.canPlayURL=function(e){var t;return _t.hasHTML5&&(t=nt({url:e})),!t&&Wt&&(t=e&&_t.ok()?!!e.match(_t.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&_t.canPlayMIME(e.type)?!0:_t.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=_t.sounds[e];return n||t||_t._wD(wt+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(t,n){var o="onready",i=!1;if("function"!=typeof t)throw B("needFunction",o);return Ft&&_t._wD(B("queue",o)),n||(n=e),y(o,t,n),w(),i=!0,i},this.ontimeout=function(t,n){var o="ontimeout",i=!1;if("function"!=typeof t)throw B("needFunction",o);return Ft&&_t._wD(B("queue",o)),n||(n=e),y(o,t,n),w({type:o}),i=!0,i},this._writeDebug=function(e,n){var o,i,a="soundmanager-debug";return _t.debugMode?en&&_t.useConsole&&(n&&"object"==typeof n?console.log(e,n):Ct[n]!==t?console[Ct[n]](e):console.log(e),_t.consoleOnly)?!0:(o=r(a))?(i=Mt.createElement("div"),++At%2===0&&(i.className="sm2-alt"),n=n===t?0:parseInt(n,10),i.appendChild(Mt.createTextNode(e)),n&&(n>=2&&(i.style.fontWeight="bold"),3===n&&(i.style.color="#ff3333")),o.insertBefore(i,o.firstChild),o=null,!0):!1:!1},-1!==Dt.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(c("currentObj",1),e=0,t=_t.soundIDs.length;t>e;e++)_t.sounds[_t.soundIDs[e]]._debug()},this.reboot=function(t,n){_t.soundIDs.length&&_t._wD("Destroying "+_t.soundIDs.length+" SMSound object"+(1!==_t.soundIDs.length?"s":"")+"...");var o,i,a;for(o=_t.soundIDs.length-1;o>=0;o--)_t.sounds[_t.soundIDs[o]].destruct();if(yt)try{Jt&&(xt=yt.innerHTML),kt=yt.parentNode.removeChild(yt)}catch(s){c("badRemove",2)}if(xt=kt=Wt=yt=null,_t.enabled=H=Ft=Nt=Rt=Pt=St=It=Vt=_t.swfLoaded=!1,_t.soundIDs=[],_t.sounds={},Qt=0,t)Lt=[];else for(o in Lt)if(Lt.hasOwnProperty(o))for(i=0,a=Lt[o].length;a>i;i++)Lt[o][i].fired=!1;return n||_t._wD(wt+": Rebooting..."),_t.html5={usingFlash:null},_t.flash={},_t.html5Only=!1,_t.ignoreFlash=!1,e.setTimeout(function(){S(),n||_t.beginDelayedInit()},20),_t},this.reset=function(){return c("reset"),_t.reboot(!0,!0)},this.getMoviePercent=function(){return yt&&"PercentLoaded"in yt?yt.PercentLoaded():null},this.beginDelayedInit=function(){Ht=!0,F(),setTimeout(function(){return Rt?!1:(C(),P(),Rt=!0,!0)},20),O()},this.destruct=function(){_t._wD(wt+".destruct()"),_t.disable(!0)},s=function(e){var n,o,i,a,s,r,l,u,d,p,_=this,g=!1,y=[],w=0,v=null;d={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=m(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,p=this.url?!1:!0,this.id3={},this._debug=function(){_t._wD(_.id+": Merged options:",_.options)},this.load=function(e){var n,o=null;if(e!==t?_._iO=m(e,_.options):(e=_.options,_._iO=e,v&&v!==_.url&&(c("manURL"),_._iO.url=_.url,_.url=null)),_._iO.url||(_._iO.url=_.url),_._iO.url=Z(_._iO.url),_.instanceOptions=_._iO,n=_._iO,_t._wD(_.id+": load ("+n.url+")"),!n.url&&!_.url)return _t._wD(_.id+": load(): url is unassigned. Exiting.",2),_;if(_.isHTML5||8!==f||_.url||n.autoPlay||_t._wD(_.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),n.url===_.url&&0!==_.readyState&&2!==_.readyState)return c("onURL",1),3===_.readyState&&n.onload&&mt(_,function(){n.onload.apply(_,[!!_.duration])}),_;if(_.loaded=!1,_.readyState=1,_.playState=0,_.id3={},tt(n))o=_._setup_html5(n),o._called_load?_t._wD(_.id+": Ignoring request to load again"):(_._html5_canplay=!1,_.url!==n.url&&(_t._wD(c("manURL")+": "+n.url),_._a.src=n.url,_.setPosition(0)),_._a.autobuffer="auto",_._a.preload="auto",_._a._called_load=!0);else{if(_t.html5Only)return _t._wD(_.id+": No flash support. Exiting."),_;if(_._iO.url&&_._iO.url.match(/data\:/i))return _t._wD(_.id+": data: URIs not supported via Flash. Exiting."),_;try{_.isHTML5=!1,_._iO=K(Q(n)),_._iO.autoPlay&&(_._iO.position||_._iO.from)&&(_t._wD(_.id+": Disabling autoPlay because of non-zero offset case"),_._iO.autoPlay=!1),n=_._iO,8===f?yt._load(_.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):yt._load(_.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(i){c("smError",2),h("onload",!1),E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return _.url=n.url,_},this.unload=function(){return 0!==_.readyState&&(_t._wD(_.id+": unload()"),_.isHTML5?(a(),_._a&&(_._a.pause(),v=it(_._a))):8===f?yt._unload(_.id,rn):yt._unload(_.id),n()),_},this.destruct=function(e){_t._wD(_.id+": Destruct"),_.isHTML5?(a(),_._a&&(_._a.pause(),it(_._a),Vt||i(),_._a._s=null,_._a=null)):(_._iO.onfailure=null,yt._destroySound(_.id)),e||_t.destroySound(_.id,!0)},this.play=function(e,n){var o,i,a,l,d,h,c,y=!0,w=null;if(o=_.id+": play(): ",n=n===t?!0:n,e||(e={}),_.url&&(_._iO.url=_.url),_._iO=m(_._iO,_.options),_._iO=m(e,_._iO),_._iO.url=Z(_._iO.url),_.instanceOptions=_._iO,!_.isHTML5&&_._iO.serverURL&&!_.connected)return _.getAutoPlay()||(_t._wD(o+" Netstream not connected yet - setting autoPlay"),_.setAutoPlay(!0)),_;if(tt(_._iO)&&(_._setup_html5(_._iO),s()),1!==_.playState||_.paused||(i=_._iO.multiShot,i?_t._wD(o+"Already playing (multi-shot)",1):(_t._wD(o+"Already playing (one-shot)",1),_.isHTML5&&_.setPosition(_._iO.position),w=_)),null!==w)return w;if(e.url&&e.url!==_.url&&(_.readyState||_.isHTML5||8!==f||!p?_.load(_._iO):p=!1),_.loaded?_t._wD(o.substr(0,o.lastIndexOf(":"))):0===_.readyState?(_t._wD(o+"Attempting to load"),_.isHTML5||_t.html5Only?_.isHTML5?_.load(_._iO):(_t._wD(o+"Unsupported type. Exiting."),w=_):(_._iO.autoPlay=!0,_.load(_._iO)),_.instanceOptions=_._iO):2===_.readyState?(_t._wD(o+"Could not load - exiting",2),w=_):_t._wD(o+"Loading - attempting to play..."),null!==w)return w;if(!_.isHTML5&&9===f&&_.position>0&&_.position===_.duration&&(_t._wD(o+"Sound at end, resetting to position:0"),e.position=0),_.paused&&_.position>=0&&(!_._iO.serverURL||_.position>0))_t._wD(o+"Resuming from paused state",1),_.resume();else{if(_._iO=m(e,_._iO),(!_.isHTML5&&null!==_._iO.position&&_._iO.position>0||null!==_._iO.from&&_._iO.from>0||null!==_._iO.to)&&0===_.instanceCount&&0===_.playState&&!_._iO.serverURL){if(l=function(){_._iO=m(e,_._iO),_.play(_._iO)},_.isHTML5&&!_._html5_canplay?(_t._wD(o+"Beginning load for non-zero offset case"),_.load({_oncanplay:l}),w=!1):_.isHTML5||_.loaded||_.readyState&&2===_.readyState||(_t._wD(o+"Preloading for non-zero offset case"),_.load({onload:l}),w=!1),null!==w)return w;_._iO=u()}(!_.instanceCount||_._iO.multiShotEvents||_.isHTML5&&_._iO.multiShot&&!Vt||!_.isHTML5&&f>8&&!_.getAutoPlay())&&_.instanceCount++,_._iO.onposition&&0===_.playState&&r(_),_.playState=1,_.paused=!1,_.position=_._iO.position===t||isNaN(_._iO.position)?0:_._iO.position,_.isHTML5||(_._iO=K(Q(_._iO))),_._iO.onplay&&n&&(_._iO.onplay.apply(_),g=!0),_.setVolume(_._iO.volume,!0),_.setPan(_._iO.pan,!0),_.isHTML5?_.instanceCount<2?(s(),a=_._setup_html5(),_.setPosition(_._iO.position),a.play()):(_t._wD(_.id+": Cloning Audio() for instance #"+_.instanceCount+"..."),d=new Audio(_._iO.url),h=function(){rt.remove(d,"ended",h),_._onfinish(_),it(d),d=null},c=function(){rt.remove(d,"canplay",c);try{d.currentTime=_._iO.position/sn}catch(e){$(_.id+": multiShot play() failed to apply position of "+_._iO.position/sn)}d.play()},rt.add(d,"ended",h),void 0!==_._iO.volume&&(d.volume=Math.max(0,Math.min(1,_._iO.volume/100))),_.muted&&(d.muted=!0),_._iO.position?rt.add(d,"canplay",c):d.play()):(y=yt._start(_.id,_._iO.loops||1,9===f?_.position:_.position/sn,_._iO.multiShot||!1),9!==f||y||(_t._wD(o+"No sound hardware, or 32-sound ceiling hit",2),_._iO.onplayerror&&_._iO.onplayerror.apply(_)))}return _},this.start=this.play,this.stop=function(e){var t,n=_._iO;return 1===_.playState&&(_t._wD(_.id+": stop()"),_._onbufferchange(0),_._resetOnPosition(0),_.paused=!1,_.isHTML5||(_.playState=0),l(),n.to&&_.clearOnPosition(n.to),_.isHTML5?_._a&&(t=_.position,_.setPosition(0),_.position=t,_._a.pause(),_.playState=0,_._onTimer(),a()):(yt._stop(_.id,e),n.serverURL&&_.unload()),_.instanceCount=0,_._iO={},n.onstop&&n.onstop.apply(_)),_},this.setAutoPlay=function(e){_t._wD(_.id+": Autoplay turned "+(e?"on":"off")),_._iO.autoPlay=e,_.isHTML5||(yt._setAutoPlay(_.id,e),e&&(_.instanceCount||1!==_.readyState||(_.instanceCount++,_t._wD(_.id+": Incremented instance count to "+_.instanceCount))))},this.getAutoPlay=function(){return _._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n,o,i=_.isHTML5?Math.max(e,0):Math.min(_.duration||_._iO.duration,Math.max(e,0));if(_.position=i,o=_.position/sn,_._resetOnPosition(_.position),_._iO.position=i,_.isHTML5){if(_._a){if(_._html5_canplay){if(_._a.currentTime!==o){_t._wD(_.id+": setPosition("+o+")");try{_._a.currentTime=o,(0===_.playState||_.paused)&&_._a.pause()}catch(a){_t._wD(_.id+": setPosition("+o+") failed: "+a.message,2)}}}else if(o)return _t._wD(_.id+": setPosition("+o+"): Cannot seek yet, sound not ready",2),_;_.paused&&_._onTimer(!0)}}else n=9===f?_.position:o,_.readyState&&2!==_.readyState&&yt._setPosition(_.id,n,_.paused||!_.playState,_._iO.multiShot);return _},this.pause=function(e){return _.paused||0===_.playState&&1!==_.readyState?_:(_t._wD(_.id+": pause()"),_.paused=!0,_.isHTML5?(_._setup_html5().pause(),a()):(e||e===t)&&yt._pause(_.id,_._iO.multiShot),_._iO.onpause&&_._iO.onpause.apply(_),_)},this.resume=function(){var e=_._iO;return _.paused?(_t._wD(_.id+": resume()"),_.paused=!1,_.playState=1,_.isHTML5?(_._setup_html5().play(),s()):(e.isMovieStar&&!e.serverURL&&_.setPosition(_.position),yt._pause(_.id,e.multiShot)),!g&&e.onplay?(e.onplay.apply(_),g=!0):e.onresume&&e.onresume.apply(_),_):_},this.togglePause=function(){return _t._wD(_.id+": togglePause()"),0===_.playState?(_.play({position:9!==f||_.isHTML5?_.position/sn:_.position}),_):(_.paused?_.resume():_.pause(),_)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),_.isHTML5||yt._setPan(_.id,e),_._iO.pan=e,n||(_.pan=e,_.options.pan=e),_},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),_.isHTML5?_._a&&(_t.muted&&!_.muted&&(_.muted=!0,_._a.muted=!0),_._a.volume=Math.max(0,Math.min(1,e/100))):yt._setVolume(_.id,_t.muted&&!_.muted||_.muted?0:e),_._iO.volume=e,n||(_.volume=e,_.options.volume=e),_},this.mute=function(){return _.muted=!0,_.isHTML5?_._a&&(_._a.muted=!0):yt._setVolume(_.id,0),_},this.unmute=function(){_.muted=!1;var e=_._iO.volume!==t;return _.isHTML5?_._a&&(_._a.muted=!1):yt._setVolume(_.id,e?_._iO.volume:_.options.volume),_},this.toggleMute=function(){return _.muted?_.unmute():_.mute()},this.onPosition=function(e,n,o){return y.push({position:parseInt(e,10),method:n,scope:o!==t?o:_,fired:!1}),_},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<y.length;n++)e===y[n].position&&(t&&t!==y[n].method||(y[n].fired&&w--,y.splice(n,1)))},this._processOnPosition=function(){var e,t,n=y.length;if(!n||!_.playState||w>=n)return!1;for(e=n-1;e>=0;e--)t=y[e],!t.fired&&_.position>=t.position&&(t.fired=!0,w++,t.method.apply(t.scope,[t.position]),n=y.length);return!0},this._resetOnPosition=function(e){var t,n,o=y.length;if(!o)return!1;for(t=o-1;t>=0;t--)n=y[t],n.fired&&e<=n.position&&(n.fired=!1,w--);return!0},u=function(){var e,t,n=_._iO,o=n.from,i=n.to;return t=function(){_t._wD(_.id+': "To" time of '+i+" reached."),_.clearOnPosition(i,t),_.stop()},e=function(){_t._wD(_.id+': Playing "from" '+o),null===i||isNaN(i)||_.onPosition(i,t)},null===o||isNaN(o)||(n.position=o,n.multiShot=!1,e()),n},r=function(){var e,t=_._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&_.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=_._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&_.clearOnPosition(parseInt(e,10))},s=function(){_.isHTML5&&G(_)},a=function(){_.isHTML5&&X(_)},n=function(e){e||(y=[],w=0),g=!1,_._hasTimer=null,_._a=null,_._html5_canplay=!1,_.bytesLoaded=null,_.bytesTotal=null,_.duration=_._iO&&_._iO.duration?_._iO.duration:null,_.durationEstimate=null,_.buffered=[],_.eqData=[],_.eqData.left=[],_.eqData.right=[],_.failures=0,_.isBuffering=!1,_.instanceOptions={},_.instanceCount=0,_.loaded=!1,_.metadata={},_.readyState=0,_.muted=!1,_.paused=!1,_.peakData={left:0,right:0},_.waveformData={left:[],right:[]},_.playState=0,_.position=null,_.id3={}},n(),this._onTimer=function(e){var t,n,o=!1,i={};return _._hasTimer||e?(_._a&&(e||(_.playState>0||1===_.readyState)&&!_.paused)&&(t=_._get_html5_duration(),t!==d.duration&&(d.duration=t,_.duration=t,o=!0),_.durationEstimate=_.duration,n=_._a.currentTime*sn||0,n!==d.time&&(d.time=n,o=!0),(o||e)&&_._whileplaying(n,i,i,i,i)),o):void 0},this._get_html5_duration=function(){var e=_._iO,t=_._a&&_._a.duration?_._a.duration*sn:e&&e.duration?e.duration:null,n=t&&!isNaN(t)&&1/0!==t?t:null;return n},this._apply_loop=function(e,t){!e.loop&&t>1&&_t._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,i=m(_._iO,e),a=Vt?gt:_._a,s=decodeURI(i.url);if(Vt?s===decodeURI(lt)&&(t=!0):s===decodeURI(v)&&(t=!0),a){if(a._s)if(Vt)a._s&&a._s.playState&&!t&&a._s.stop();else if(!Vt&&s===decodeURI(v))return _._apply_loop(a,i.loops),a;t||(v&&n(!1),a.src=i.url,_.url=i.url,v=i.url,lt=i.url,a._called_load=!1)}else i.autoLoad||i.autoPlay?(_._a=new Audio(i.url),_._a.load()):_._a=zt&&opera.version()<10?new Audio(null):new Audio,a=_._a,a._called_load=!1,Vt&&(gt=a);return _.isHTML5=!0,_._a=a,a._s=_,o(),_._apply_loop(a,i.loops),i.autoLoad||i.autoPlay?_.load():(a.autobuffer=!1,a.preload="auto"),a},o=function(){function e(e,t,n){return _._a?_._a.addEventListener(e,t,n||!1):null}if(_._a._added_events)return!1;var t;_._a._added_events=!0;for(t in ht)ht.hasOwnProperty(t)&&e(t,ht[t]);return!0},i=function(){function e(e,t,n){return _._a?_._a.removeEventListener(e,t,n||!1):null}var t;_t._wD(_.id+": Removing event listeners"),_._a._added_events=!1;for(t in ht)ht.hasOwnProperty(t)&&e(t,ht[t])},this._onload=function(e){var t,n=!!e||!_.isHTML5&&8===f&&_.duration;return t=_.id+": ",_t._wD(t+(n?"onload()":"Failed to load / invalid sound?"+(_.duration?" -":" Zero-length duration reported.")+" ("+_.url+")"),n?1:2),n||_.isHTML5||(_t.sandbox.noRemote===!0&&_t._wD(t+B("noNet"),1),_t.sandbox.noLocal===!0&&_t._wD(t+B("noLocal"),1)),_.loaded=n,_.readyState=n?3:2,_._onbufferchange(0),_._iO.onload&&mt(_,function(){_._iO.onload.apply(_,[n])}),!0},this._onbufferchange=function(e){return 0===_.playState?!1:e&&_.isBuffering||!e&&!_.isBuffering?!1:(_.isBuffering=1===e,_._iO.onbufferchange&&(_t._wD(_.id+": Buffer state change: "+e),_._iO.onbufferchange.apply(_,[e])),!0)},this._onsuspend=function(){return _._iO.onsuspend&&(_t._wD(_.id+": Playback suspended"),_._iO.onsuspend.apply(_)),!0},this._onfailure=function(e,t,n){_.failures++,_t._wD(_.id+": Failure ("+_.failures+"): "+e),_._iO.onfailure&&1===_.failures?_._iO.onfailure(e,t,n):_t._wD(_.id+": Ignoring failure")},this._onwarning=function(e,t,n){_._iO.onwarning&&_._iO.onwarning(e,t,n)},this._onfinish=function(){var e=_._iO.onfinish;_._onbufferchange(0),_._resetOnPosition(0),_.instanceCount&&(_.instanceCount--,_.instanceCount||(l(),_.playState=0,_.paused=!1,_.instanceCount=0,_.instanceOptions={},_._iO={},a(),_.isHTML5&&(_.position=0)),(!_.instanceCount||_._iO.multiShotEvents)&&e&&(_t._wD(_.id+": onfinish()"),mt(_,function(){e.apply(_)})))},this._whileloading=function(e,t,n,o){var i=_._iO;_.bytesLoaded=e,_.bytesTotal=t,_.duration=Math.floor(n),_.bufferLength=o,_.durationEstimate=_.isHTML5||i.isMovieStar?_.duration:i.duration?_.duration>i.duration?_.duration:i.duration:parseInt(_.bytesTotal/_.bytesLoaded*_.duration,10),_.isHTML5||(_.buffered=[{start:0,end:_.duration}]),(3!==_.readyState||_.isHTML5)&&i.whileloading&&i.whileloading.apply(_)},this._whileplaying=function(e,n,o,i,a){var s,r=_._iO;return isNaN(e)||null===e?!1:(_.position=Math.max(0,e),_._processOnPosition(),!_.isHTML5&&f>8&&(r.usePeakData&&n!==t&&n&&(_.peakData={left:n.leftPeak,right:n.rightPeak}),r.useWaveformData&&o!==t&&o&&(_.waveformData={left:o.split(","),right:i.split(",")}),r.useEQData&&a!==t&&a&&a.leftEQ&&(s=a.leftEQ.split(","),_.eqData=s,_.eqData.left=s,a.rightEQ!==t&&a.rightEQ&&(_.eqData.right=a.rightEQ.split(",")))),1===_.playState&&(_.isHTML5||8!==f||_.position||!_.isBuffering||_._onbufferchange(0),r.whileplaying&&r.whileplaying.apply(_)),!0)},this._oncaptiondata=function(e){_t._wD(_.id+": Caption data received."),_.captiondata=e,_._iO.oncaptiondata&&_._iO.oncaptiondata.apply(_,[e])},this._onmetadata=function(e,t){_t._wD(_.id+": Metadata received.");var n,o,i={};for(n=0,o=e.length;o>n;n++)i[e[n]]=t[n];_.metadata=i,console.log("updated metadata",_.metadata),_._iO.onmetadata&&_._iO.onmetadata.call(_,_.metadata)},this._onid3=function(e,t){_t._wD(_.id+": ID3 data received.");var n,o,i=[];for(n=0,o=e.length;o>n;n++)i[e[n]]=t[n];_.id3=m(_.id3,i),_._iO.onid3&&_._iO.onid3.apply(_)},this._onconnect=function(e){e=1===e,_t._wD(_.id+": "+(e?"Connected.":"Failed to connect? - "+_.url),e?1:2),_.connected=e,e&&(_.failures=0,J(_.id)&&(_.getAutoPlay()?_.play(t,_.getAutoPlay()):_._iO.autoLoad&&_.load()),_._iO.onconnect&&_._iO.onconnect.apply(_,[e]))},this._ondataerror=function(e){_.playState>0&&(_t._wD(_.id+": Data error: "+e),_._iO.ondataerror&&_._iO.ondataerror.apply(_))},this._debug()},A=function(){return Mt.body||Mt.getElementsByTagName("div")[0]},r=function(e){return Mt.getElementById(e)},m=function(e,n){var o,i,a=e||{};o=n===t?_t.defaultOptions:n;for(i in o)o.hasOwnProperty(i)&&a[i]===t&&(a[i]="object"!=typeof o[i]||null===o[i]?o[i]:m(a[i],o[i]));return a},mt=function(t,n){t.isHTML5||8!==f?n():e.setTimeout(n,0)},g={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},_=function(e,n){var o,i=!0,a=n!==t,s=_t.setupOptions,r=g;if(e===t){i=[];for(o in s)s.hasOwnProperty(o)&&i.push(o);for(o in r)r.hasOwnProperty(o)&&i.push("object"==typeof _t[o]?o+": {...}":_t[o]instanceof Function?o+": function() {...}":o);return _t._wD(B("setup",i.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)a&&r[n]!==t?_t[n][o]=e[o]:s[o]!==t?(_t.setupOptions[o]=e[o],_t[o]=e[o]):r[o]===t?($(B(_t[o]===t?"setupUndef":"setupError",o),2),i=!1):_t[o]instanceof Function?_t[o].apply(_t,e[o]instanceof Array?e[o]:[e[o]]):_t[o]=e[o];else{if(r[o]!==t)return _(e[o],o);$(B(_t[o]===t?"setupUndef":"setupError",o),2),i=!1}return i},rt=function(){function t(e){var t=qt.call(e),n=t.length;return a?(t[1]="on"+t[1],n>3&&t.pop()):3===n&&t.push(!1),t}function n(e,t){var n=e.shift(),o=[s[t]];a?n[o](e[0],e[1]):n[o].apply(n,e)}function o(){n(t(arguments),"add")}function i(){n(t(arguments),"remove")}var a=e.attachEvent,s={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:o,remove:i}}(),ht={abort:a(function(){_t._wD(this._s.id+": abort")}),canplay:a(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,_t._wD(n.id+": canplay"),n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/sn,this.currentTime!==e){_t._wD(n.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(o){_t._wD(n.id+": canplay: Setting position of "+e+" failed: "+o.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:a(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:a(function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(_t._wD(this._s.id+": durationchange ("+e+")"+(t.duration?", previously "+t.duration:"")),t.durationEstimate=t.duration=e)}),ended:a(function(){var e=this._s;_t._wD(e.id+": ended"),e._onfinish()}),error:a(function(){_t._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:a(function(){var e=this._s;_t._wD(e.id+": loadeddata"),e._loaded||Xt||(e.duration=e._get_html5_duration())}),loadedmetadata:a(function(){_t._wD(this._s.id+": loadedmetadata")}),loadstart:a(function(){_t._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){_t._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:a(function(e){var t,n,o,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1;if(i.buffered=[],r&&r.length){for(t=0,n=r.length;n>t;t++)i.buffered.push({start:r.start(t)*sn,end:r.end(t)*sn});if(a=(r.end(0)-r.start(0))*sn,l=Math.min(1,a/(e.target.duration*sn)),s&&r.length>1){for(o=[],n=r.length,t=0;n>t;t++)o.push(e.target.buffered.start(t)*sn+"-"+e.target.buffered.end(t)*sn);_t._wD(this._s.id+": progress, timeRanges: "+o.join(", "))}s&&!isNaN(l)&&_t._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&ht.canplaythrough.call(this,e))}),ratechange:a(function(){_t._wD(this._s.id+": ratechange")}),suspend:a(function(e){var t=this._s;_t._wD(this._s.id+": suspend"),ht.progress.call(this,e),t._onsuspend()}),stalled:a(function(){_t._wD(this._s.id+": stalled")}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var e=this._s;_t._wD(this._s.id+": waiting"),e._onbufferchange(1)})},tt=function(e){var t;return t=e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&i(e.type)?!1:e.type?nt({type:e.type}):nt({url:e.url})||_t.html5Only||e.url.match(/data\:/i):!1},it=function(e){var t;return e&&(t=Xt?rn:_t.html5.canPlayType("audio/wav")?ln:rn,e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),Vt&&(lt=null),t},nt=function(e){if(!_t.useHTML5Audio||!_t.hasHTML5)return!1;var n,o,a,s,r=e.url||null,l=e.type||null,u=_t.audioFormats;if(l&&_t.html5[l]!==t)return _t.html5[l]&&!i(l);if(!ot){ot=[];for(s in u)u.hasOwnProperty(s)&&(ot.push(s),u[s].related&&(ot=ot.concat(u[s].related)));ot=new RegExp("\\.("+ot.join("|")+")(\\?.*)?$","i")}return a=r?r.toLowerCase().match(ot):null,a&&a.length?a=a[1]:l?(o=l.indexOf(";"),a=(-1!==o?l.substr(0,o):l).substr(6)):n=!1,a&&_t.html5[a]!==t?n=_t.html5[a]&&!i(a):(l="audio/"+a,n=_t.html5.canPlayType({type:l}),_t.html5[a]=n,n=n&&_t.html5[l]&&!i(l)),n},st=function(){function e(e){var t,n,o=!1,i=!1;if(!s||"function"!=typeof s.canPlayType)return o;if(e instanceof Array){for(a=0,n=e.length;n>a;a++)(_t.html5[e[a]]||s.canPlayType(e[a]).match(_t.html5Test))&&(i=!0,_t.html5[e[a]]=!0,_t.flash[e[a]]=!!e[a].match(an));o=i}else t=s&&"function"==typeof s.canPlayType?s.canPlayType(e):!1,o=!(!t||!t.match(_t.html5Test));return o}if(!_t.useHTML5Audio||!_t.hasHTML5)return _t.html5.usingFlash=!0,Wt=!0,!1;var n,o,i,a,s=Audio!==t?zt&&opera.version()<10?new Audio(null):new Audio:null,r={};i=_t.audioFormats;for(n in i)if(i.hasOwnProperty(n)&&(o="audio/"+n,r[n]=e(i[n].type),r[o]=r[n],n.match(an)?(_t.flash[n]=!0,_t.flash[o]=!0):(_t.flash[n]=!1,_t.flash[o]=!1),i[n]&&i[n].related))for(a=i[n].related.length-1;a>=0;a--)r["audio/"+i[n].related[a]]=r[n],_t.html5[i[n].related[a]]=r[n],_t.flash[i[n].related[a]]=r[n];
return r.canPlayType=s?e:null,_t.html5=m(_t.html5,r),_t.html5.usingFlash=et(),Wt=_t.html5.usingFlash,!0},T={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:wt+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:vt+"Verify that %s is a valid path.",tryDebug:"Try "+wt+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:vt+"Non-HTTP page ("+Mt.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:vt+"Special case: Waiting for SWF to load with window focus...",waitForever:vt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:vt+"Waiting for 100% SWF load...",needFunction:vt+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:vt+"_debug(): Current sound objects",waitOnload:vt+"Waiting for window.onload()",docLoaded:vt+"Document already loaded",onload:vt+"initComplete(): calling soundManager.onload()",onloadOK:wt+".onload() complete",didInit:vt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:vt+"Failed to remove Flash node.",shutdown:wt+".disable(): Shutting down",queue:vt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+q.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:vt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:wt+".load(): current URL already assigned.",badFV:wt+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:vt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:vt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:wt+".setup(): allowed parameters: %s",setupError:wt+'.setup(): "%s" cannot be assigned with this method.',setupUndef:wt+'.setup(): Could not find option "%s"',setupLate:wt+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:vt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:wt+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},B=function(){var e,t,n,o,i;if(e=qt.call(arguments),o=e.shift(),i=T&&T[o]?T[o]:"",i&&e&&e.length)for(t=0,n=e.length;n>t;t++)i=i.replace("%s",e[t]);return i},Q=function(e){return 8===f&&e.loops>1&&e.stream&&(c("as2loop"),e.stream=!1),e},K=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(_t._wD((t||"")+B("policy")),e.usePolicyFile=!0),e},$=function(e){en&&console.warn!==t?console.warn(e):_t._wD(e)},l=function(){return!1},N=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l);t=null},R=function(e){e===t&&(e=!1),(It||e)&&_t.disable(e)},U=function(e){var t,n=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(n=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+_t.movieURL,_t.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},M=function(){f=parseInt(_t.flashVersion,10),8!==f&&9!==f&&(_t._wD(B("badFV",f,Et)),_t.flashVersion=f=Et);var e=_t.debugMode||_t.debugFlash?"_debug.swf":".swf";_t.useHTML5Audio&&!_t.html5Only&&_t.audioFormats.mp4.required&&9>f&&(_t._wD(B("needfl9")),_t.flashVersion=f=9),_t.version=_t.versionNumber+(_t.html5Only?" (HTML5-only mode)":9===f?" (AS3/Flash 9)":" (AS2/Flash 8)"),f>8?(_t.defaultOptions=m(_t.defaultOptions,_t.flash9Options),_t.features.buffering=!0,_t.defaultOptions=m(_t.defaultOptions,_t.movieStarOptions),_t.filePatterns.flash9=new RegExp("\\.(mp3|"+hn.join("|")+")(\\?.*)?$","i"),_t.features.movieStar=!0):_t.features.movieStar=!1,_t.filePattern=_t.filePatterns[8!==f?"flash9":"flash8"],_t.movieURL=(8===f?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),_t.features.peakData=_t.features.waveformData=_t.features.eqData=f>8},k=function(e,t){return yt?void yt._setPolling(e,t):!1},x=function(){if(_t.debugURLParam.test(Dt)&&(_t.debugMode=!0),r(_t.debugID))return!1;var e,t,n,o,i;if(!(!_t.debugMode||r(_t.debugID)||en&&_t.useConsole&&_t.consoleOnly)){e=Mt.createElement("div"),e.id=_t.debugID+"-toggle",o={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Mt.createTextNode("-")),e.onclick=V,e.title="Toggle SM2 debug console",bt.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(i in o)o.hasOwnProperty(i)&&(e.style[i]=o[i]);if(t=Mt.createElement("div"),t.id=_t.debugID,t.style.display=_t.debugMode?"block":"none",_t.debugMode&&!r(e.id)){try{n=A(),n.appendChild(e)}catch(a){throw new Error(B("domError")+" \n"+a.toString())}n.appendChild(t)}}n=null},J=this.getSoundById,c=function(e,t){return e?_t._wD(B(e),t):""},V=function(){var e=r(_t.debugID),t=r(_t.debugID+"-toggle");return e?(Tt?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),void(Tt=!Tt)):!1},h=function(n,o,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,o,i)}catch(a){return!1}return!0},W=function(){var e=[];return _t.debugMode&&e.push(q.sm2Debug),_t.debugFlash&&e.push(q.flashDebug),_t.useHighPerformance&&e.push(q.highPerf),e.join(" ")},j=function(){var e=B("fbHandler"),t=_t.getMoviePercent(),n=q,o={type:"FLASHBLOCK"};return _t.html5Only?!1:void(_t.ok()?(_t.didFlashBlock&&_t._wD(e+": Unblocked"),_t.oMC&&(_t.oMC.className=[W(),n.swfDefault,n.swfLoaded+(_t.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Wt&&(_t.oMC.className=W()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),_t._wD(e+": "+B("fbTimeout")+(t?" ("+B("fbLoaded")+")":""))),_t.didFlashBlock=!0,w({type:"ontimeout",ignoreInit:!0,error:o}),E(o)))},y=function(e,n,o){Lt[e]===t&&(Lt[e]=[]),Lt[e].push({method:n,scope:o||null,fired:!1})},w=function(e){if(e||(e={type:_t.ok()?"onready":"ontimeout"}),!Ft&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(_t.ok()||It&&!e.ignoreInit))return!1;var t,n,o={success:e&&e.ignoreInit?_t.ok():!It},i=e&&e.type?Lt[e.type]||[]:[],a=[],s=[o],r=Wt&&!_t.ok();for(e.error&&(s[0].error=e.error),t=0,n=i.length;n>t;t++)i[t].fired!==!0&&a.push(i[t]);if(a.length)for(t=0,n=a.length;n>t;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},v=function(){e.setTimeout(function(){_t.useFlashBlock&&j(),w(),"function"==typeof _t.onload&&(c("onload",1),_t.onload.apply(e),c("onloadOK",1)),_t.waitForWindowLoad&&rt.add(e,"load",v)},1)},dt=function(){if(ut!==t)return ut;var n,o,i,a=!1,s=navigator,r=s.plugins,l=e.ActiveXObject;if(r&&r.length)o="application/x-shockwave-flash",i=s.mimeTypes,i&&i[o]&&i[o].enabledPlugin&&i[o].enabledPlugin.description&&(a=!0);else if(l!==t&&!bt.match(/MSAppHost/i)){try{n=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){n=null}a=!!n,n=null}return ut=a,a},et=function(){var e,t,n=_t.audioFormats,o=Kt&&!!bt.match(/os (1|2|3_0|3_1)\s/i);if(o?(_t.hasHTML5=!1,_t.html5Only=!0,_t.oMC&&(_t.oMC.style.display="none")):_t.useHTML5Audio&&(_t.html5&&_t.html5.canPlayType||(_t._wD("SoundManager: No HTML5 Audio() support detected."),_t.hasHTML5=!1),Yt&&_t._wD(vt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ut?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),_t.useHTML5Audio&&_t.hasHTML5){Y=!0;for(t in n)n.hasOwnProperty(t)&&n[t].required&&(_t.html5.canPlayType(n[t].type)?_t.preferFlash&&(_t.flash[t]||_t.flash[n[t].type])&&(e=!0):(Y=!1,e=!0))}return _t.ignoreFlash&&(e=!1,Y=!0),_t.html5Only=_t.hasHTML5&&_t.useHTML5Audio&&!e,!_t.html5Only},Z=function(e){var t,n,o,i=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(_t.canPlayMIME(e[t].type)){i=t;break}}else if(_t.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),o=e[i]}else o=e;return o},G=function(e){e._hasTimer||(e._hasTimer=!0,!Zt&&_t.html5PollingInterval&&(null===Bt&&0===Ut&&(Bt=setInterval(z,_t.html5PollingInterval)),Ut++))},X=function(e){e._hasTimer&&(e._hasTimer=!1,!Zt&&_t.html5PollingInterval&&Ut--)},z=function(){var e;if(null!==Bt&&!Ut)return clearInterval(Bt),Bt=null,!1;for(e=_t.soundIDs.length-1;e>=0;e--)_t.sounds[_t.soundIDs[e]].isHTML5&&_t.sounds[_t.soundIDs[e]]._hasTimer&&_t.sounds[_t.soundIDs[e]]._onTimer()},E=function(n){n=n!==t?n:{},"function"==typeof _t.onerror&&_t.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&_t.disable()},ft=function(){if(!Yt||!dt())return!1;var e,t,n=_t.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(_t._wD(wt+": Using flash fallback for "+t+" format"),_t.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)_t.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var n=_t.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,c("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e){if(_t.swfLoaded)return!1;var t;return h("swf",!0),h("flashtojs",!0),_t.swfLoaded=!0,nn=!1,Yt&&ft(),e&&e.replace(/\+dev/i,"")===_t.versionNumber.replace(/\+dev/i,"")?void setTimeout(d,Jt?100:1):(t=wt+': Fatal: JavaScript file build "'+_t.versionNumber+'" does not match Flash SWF build "'+e+'" at '+_t.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(t)},0),!1)},C=function(e,n){function o(){var e,t=[],n=[],o=" + ";e="SoundManager "+_t.version+(!_t.html5Only&&_t.useHTML5Audio?_t.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),_t.html5Only?_t.html5PollingInterval&&t.push("html5PollingInterval ("+_t.html5PollingInterval+"ms)"):(_t.preferFlash&&t.push("preferFlash"),_t.useHighPerformance&&t.push("useHighPerformance"),_t.flashPollingInterval&&t.push("flashPollingInterval ("+_t.flashPollingInterval+"ms)"),_t.html5PollingInterval&&t.push("html5PollingInterval ("+_t.html5PollingInterval+"ms)"),_t.wmode&&t.push("wmode ("+_t.wmode+")"),_t.debugFlash&&t.push("debugFlash"),_t.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(o)])),_t._wD(e+(n.length?o+n.join(", "):""),1),ct()}function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(Pt&&St)return!1;if(_t.html5Only)return M(),o(),_t.oMC=r(_t.movieID),d(),Pt=!0,St=!0,!1;var a,s,l,u,f,h,c,p,m=n||_t.url,_=_t.altURL||m,g="JS/Flash audio component (SoundManager 2)",y=A(),w=W(),v=null,O=Mt.getElementsByTagName("html")[0];if(v=O&&O.dir&&O.dir.match(/rtl/i),e=e===t?_t.id:e,M(),_t.url=U(un?m:_),n=_t.url,_t.wmode=!_t.wmode&&_t.useHighPerformance?"transparent":_t.wmode,null!==_t.wmode&&(bt.match(/msie 8/i)||!Jt&&!_t.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(jt.push(T.spcWmode),_t.wmode=null),a={name:e,id:e,src:n,quality:"high",allowScriptAccess:_t.allowScriptAccess,bgcolor:_t.bgColor,pluginspage:dn+"www.macromedia.com/go/getflashplayer",title:g,type:"application/x-shockwave-flash",wmode:_t.wmode,hasPriority:"true"},_t.debugFlash&&(a.FlashVars="debug=1"),_t.wmode||delete a.wmode,Jt)s=Mt.createElement("div"),u=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+dn+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",_t.allowScriptAccess),i("quality",a.quality),_t.wmode?i("wmode",_t.wmode):"",i("bgcolor",_t.bgColor),i("hasPriority","true"),_t.debugFlash?i("FlashVars",a.FlashVars):"","</object>"].join("");else{s=Mt.createElement("embed");for(l in a)a.hasOwnProperty(l)&&s.setAttribute(l,a[l])}if(x(),w=W(),y=A())if(_t.oMC=r(_t.movieID)||Mt.createElement("div"),_t.oMC.id)p=_t.oMC.className,_t.oMC.className=(p?p+" ":q.swfDefault)+(w?" "+w:""),_t.oMC.appendChild(s),Jt&&(f=_t.oMC.appendChild(Mt.createElement("div")),f.className=q.swfBox,f.innerHTML=u),St=!0;else{if(_t.oMC.id=_t.movieID,_t.oMC.className=q.swfDefault+" "+w,h=null,f=null,_t.useFlashBlock||(_t.useHighPerformance?h={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(h={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},v&&(h.left=Math.abs(parseInt(h.left,10))+"px"))),Gt&&(_t.oMC.style.zIndex=1e4),!_t.debugFlash)for(c in h)h.hasOwnProperty(c)&&(_t.oMC.style[c]=h[c]);try{Jt||_t.oMC.appendChild(s),y.appendChild(_t.oMC),Jt&&(f=_t.oMC.appendChild(Mt.createElement("div")),f.className=q.swfBox,f.innerHTML=u),St=!0}catch(b){throw new Error(B("domError")+" \n"+b.toString())}}return Pt=!0,o(),!0},P=function(){return _t.html5Only?(C(),!1):yt?!1:_t.url?(yt=_t.getMovie(_t.id),yt||(kt?(Jt?_t.oMC.innerHTML=xt:_t.oMC.appendChild(kt),kt=null,Pt=!0):C(_t.id,_t.url),yt=_t.getMovie(_t.id)),"function"==typeof _t.oninitmovie&&setTimeout(_t.oninitmovie,1),pt(),!0):(c("noURL"),!1)},O=function(){setTimeout(b,1e3)},D=function(){e.setTimeout(function(){$(vt+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),_t.setup({preferFlash:!1}).reboot(),_t.didFlashBlock=!0,_t.beginDelayedInit()},1)},b=function(){var t,n=!1;return _t.url?Nt?!1:(Nt=!0,rt.remove(e,"load",O),ut&&nn&&!tn?(c("waitFocus"),!1):(Ft||(t=_t.getMoviePercent(),t>0&&100>t&&(n=!0)),void setTimeout(function(){return t=_t.getMoviePercent(),n?(Nt=!1,_t._wD(B("waitSWF")),e.setTimeout(O,1),!1):(Ft||(_t._wD(wt+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(_t.debugFlash?" "+B("checkSWF"):""),2),!un&&t&&(c("localFail",2),_t.debugFlash||c("tryDebug",2)),0===t&&_t._wD(B("swf404",_t.url),1),h("flashtojs",!1," (Check flash security or flash blockers)")),void(!Ft&&on&&(null===t?_t.useFlashBlock||0===_t.flashLoadTimeout?(_t.useFlashBlock&&j(),c("waitForever")):!_t.useFlashBlock&&Y?D():(c("waitForever"),w({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===_t.flashLoadTimeout?c("waitForever"):!_t.useFlashBlock&&Y?D():R(!0))))},_t.flashLoadTimeout))):!1},L=function(){function t(){rt.remove(e,"focus",L)}return tn||!nn?(t(),!0):(on=!0,tn=!0,c("gotFocus"),Nt=!1,O(),t(),!0)},pt=function(){jt.length&&(_t._wD("SoundManager 2: "+jt.join(" "),1),jt=[])},ct=function(){pt();var e,t=[];if(_t.useHTML5Audio&&_t.hasHTML5){for(e in _t.audioFormats)_t.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+_t.html5[e]+(!_t.html5[e]&&Wt&&_t.flash[e]?" (using flash)":_t.preferFlash&&_t.flash[e]&&Wt?" (preferring flash)":_t.html5[e]?"":" ("+(_t.audioFormats[e].required?"required, ":"")+"and no flash support)"));_t._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},p=function(t){if(Ft)return!1;if(_t.html5Only)return c("sm2Loaded",1),Ft=!0,v(),h("onload",!0),!0;var n,o=_t.useFlashBlock&&_t.flashLoadTimeout&&!_t.getMoviePercent(),i=!0;return o||(Ft=!0),n={type:!ut&&Wt?"NO_FLASH":"INIT_TIMEOUT"},_t._wD("SoundManager 2 "+(It?"failed to load":"loaded")+" ("+(It?"Flash security/load error":"OK")+") "+String.fromCharCode(It?10006:10003),It?2:1),It||t?(_t.useFlashBlock&&_t.oMC&&(_t.oMC.className=W()+" "+(null===_t.getMoviePercent()?q.swfTimedout:q.swfError)),w({type:"ontimeout",error:n,ignoreInit:!0}),h("onload",!1),E(n),i=!1):h("onload",!0),It||(_t.waitForWindowLoad&&!Ht?(c("waitOnload"),rt.add(e,"load",v)):(_t.waitForWindowLoad&&Ht&&c("docLoaded"),v())),i},u=function(){var e,n=_t.setupOptions;for(e in n)n.hasOwnProperty(e)&&(_t[e]===t?_t[e]=n[e]:_t[e]!==n[e]&&(_t.setupOptions[e]=_t[e]))},d=function(){function t(){rt.remove(e,"load",_t.beginDelayedInit)}if(Ft)return c("didInit"),!1;if(_t.html5Only)return Ft||(t(),_t.enabled=!0,p()),!0;P();try{yt._externalInterfaceTest(!1),k(!0,_t.flashPollingInterval||(_t.useHighPerformance?10:50)),_t.debugMode||yt._disableDebug(),_t.enabled=!0,h("jstoflash",!0),_t.html5Only||rt.add(e,"unload",l)}catch(n){return _t._wD("js/flash exception: "+n.toString()),h("jstoflash",!1),E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),R(!0),p(),!1}return p(),t(),!0},F=function(){return H?!1:(H=!0,u(),x(),function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",n=null,o=null,i=Dt.toLowerCase();-1!==i.indexOf(e)&&(n="1"===i.charAt(i.indexOf(e)+e.length),en&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),_t.setup({useHTML5Audio:n})),-1!==i.indexOf(t)&&(o="1"===i.charAt(i.indexOf(t)+t.length),en&&console.log((o?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),_t.setup({preferFlash:o}))}(),!ut&&_t.hasHTML5&&(_t._wD("SoundManager 2: No Flash detected"+(_t.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),_t.setup({useHTML5Audio:!0,preferFlash:!1})),st(),!ut&&Wt&&(jt.push(T.needFlash),_t.setup({flashLoadTimeout:1})),Mt.removeEventListener&&Mt.removeEventListener("DOMContentLoaded",F,!1),P(),!0)},at=function(){return"complete"===Mt.readyState&&(F(),Mt.detachEvent("onreadystatechange",at)),!0},I=function(){Ht=!0,F(),rt.remove(e,"load",I)},S=function(){Zt&&((!_t.setupOptions.useHTML5Audio||_t.setupOptions.preferFlash)&&jt.push(T.mobileUA),_t.setupOptions.useHTML5Audio=!0,_t.setupOptions.preferFlash=!1,(Kt||$t&&!bt.match(/android\s2\.3/i))&&(jt.push(T.globalHTML5),Kt&&(_t.ignoreFlash=!0),Vt=!0))},S(),dt(),rt.add(e,"focus",L),rt.add(e,"load",O),rt.add(e,"load",I),Mt.addEventListener?Mt.addEventListener("DOMContentLoaded",F,!1):Mt.attachEvent?Mt.attachEvent("onreadystatechange",at):(h("onload",!1),E({type:"NO_DOM2_EVENTS",fatal:!0}))}var o=o||"undefined"==typeof e.document;!e||!e.document;var i=null;void 0!==e.SM2_DEFER||o||(console.log("INSTANTIATING SOUNDMANAGER ------> defer: "+o),i=new n),"undefined"==typeof e.document?(e.SoundManager=module.exports.SoundManager={},e.soundManager=module.exports.soundManager={}):"object"==typeof module&&module&&"object"==typeof module.exports?(e.soundManager=i,module.exports.SoundManager=n,module.exports.soundManager=i):"function"==typeof define&&define.amd?define("SoundManager",[],function(){return{SoundManager:n,soundManager:i}}):(e.SoundManager=n,e.soundManager=i)}("undefined"==typeof window?self:window);